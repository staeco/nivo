{"version":3,"file":"nivo-bullet.es.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/BulletMarkersItem.tsx","../src/BulletRectsItem.tsx","../src/props.ts","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/compute.ts","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../src/BulletMarkers.tsx","../src/BulletRects.tsx","../src/BulletItem.tsx","../src/hooks.ts","../src/Bullet.tsx","../src/ResponsiveBullet.tsx"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react'\nimport { BulletMarkersItemProps } from './types'\nimport { animated } from 'react-spring'\n\nexport const BulletMarkersItem = ({\n    animatedProps: { color, transform, x, y1, y2 },\n    data,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n}: BulletMarkersItemProps) => {\n    return (\n        <animated.line\n            transform={transform}\n            x1={x}\n            x2={x}\n            y1={y1}\n            y2={y2}\n            fill=\"none\"\n            stroke={color}\n            strokeWidth=\"5\"\n            onMouseMove={event => onMouseMove(data, event)}\n            onMouseEnter={event => onMouseEnter(data, event)}\n            onMouseLeave={event => onMouseLeave(data, event)}\n            onClick={event => onClick(data, event)}\n        />\n    )\n}\n","import React from 'react'\nimport { BulletRectsItemProps } from './types'\nimport { animated, to } from 'react-spring'\n\nexport const BulletRectsItem = ({\n    animatedProps: { x, y, width, height, color },\n    data,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n}: BulletRectsItemProps) => {\n    return (\n        <animated.rect\n            x={x}\n            y={y}\n            width={to(width, value => Math.max(value, 0))}\n            height={to(height, value => Math.max(value, 0))}\n            fill={color}\n            onMouseMove={event => onMouseMove(data, event)}\n            onMouseEnter={event => onMouseEnter(data, event)}\n            onMouseLeave={event => onMouseLeave(data, event)}\n            onClick={event => onClick(data, event)}\n        />\n    )\n}\n","import { BulletMarkersItem } from './BulletMarkersItem'\nimport { BulletRectsItem } from './BulletRectsItem'\nimport { motionDefaultProps, defaultMargin } from '@nivo/core'\n\nexport const defaultProps = {\n    layout: 'horizontal',\n    reverse: false,\n    spacing: 30,\n    axisPosition: 'after',\n    titlePosition: 'before',\n    titleAlign: 'middle',\n    titleRotation: 0,\n    titleOffsetX: 0,\n    titleOffsetY: 0,\n    rangeComponent: BulletRectsItem,\n    rangeColors: 'seq:cool',\n    measureComponent: BulletRectsItem,\n    measureColors: 'seq:red_purple',\n    markers: [],\n    markerComponent: BulletMarkersItem,\n    markerColors: 'seq:red_purple',\n    rangeBorderWidth: 0,\n    rangeBorderColor: { from: 'color' },\n    measureSize: 0.4,\n    measureBorderWidth: 0,\n    measureBorderColor: { from: 'color' },\n    markerSize: 0.6,\n    isInteractive: true,\n    animate: motionDefaultProps.animate,\n    motionConfig: motionDefaultProps.config,\n    margin: defaultMargin,\n    role: 'img',\n} as const\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { BulletRectsProps, ComputedRangeDatum } from './types'\n// @ts-ignore\nimport { getColorScale } from '@nivo/core'\n\ntype ComputeRect = Pick<BulletRectsProps, 'layout' | 'reverse' | 'scale' | 'height'>\n\nexport const stackValues = (\n    values: number[],\n    colorScale: ReturnType<getColorScale>,\n    useAverage = false\n) => {\n    const normalized = [...values].filter(v => v !== 0).sort((a, b) => a - b)\n\n    return normalized.reduce<ComputedRangeDatum[]>((acc, v1, index) => {\n        const [last] = acc.slice(-1)\n        const v0 = last?.v1 ?? 0\n        const sequentialValue = useAverage === true ? v0 + (v1 - v0) / 2 : v1\n\n        return [\n            ...acc,\n            {\n                index,\n                v0,\n                v1,\n                color: colorScale(colorScale.type === 'sequential' ? sequentialValue : index),\n            },\n        ]\n    }, [])\n}\n\nexport const getComputeRect = ({ layout, reverse, scale, height }: ComputeRect) => {\n    if (layout === 'horizontal') {\n        if (reverse === true) {\n            return (d: ComputedRangeDatum) => {\n                const x = scale(d.v1)\n                const w = scale(d.v0) - x\n\n                return { x, y: 0, width: w, height }\n            }\n        }\n\n        return (d: ComputedRangeDatum) => {\n            const x = scale(d.v0)\n            const w = scale(d.v1) - x\n\n            return { x, y: 0, width: w, height }\n        }\n    }\n\n    if (reverse === true) {\n        return (d: ComputedRangeDatum) => {\n            const y = scale(d.v0)\n            const h = scale(d.v1) - y\n\n            return { x: 0, y, width: height, height: h }\n        }\n    }\n\n    return (d: ComputedRangeDatum) => {\n        const y = scale(d.v1)\n        const h = scale(d.v0) - y\n\n        return { x: 0, y, width: height, height: h }\n    }\n}\n\nexport const computeRects = ({\n    data,\n    layout,\n    reverse,\n    scale,\n    height,\n}: Pick<BulletRectsProps, 'data'> & ComputeRect) => {\n    const computeRect = getComputeRect({\n        layout,\n        reverse,\n        scale,\n        height,\n    })\n\n    return data.map(d => ({\n        data: d,\n        ...computeRect(d),\n    }))\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import React, { useMemo } from 'react'\nimport { useTransition } from 'react-spring'\n// @ts-ignore\nimport { useMotionConfig } from '@nivo/core'\nimport {\n    BulletMarkersProps,\n    ComputedMarkersDatum,\n    MarkerWithPosition,\n    PositionWithColor,\n} from './types'\n\ntype MouseEventWithDatum = (\n    datum: ComputedMarkersDatum,\n    event: React.MouseEvent<SVGLineElement, MouseEvent>\n) => void\n\ntype EventHandlers = Record<'onMouseEnter' | 'onMouseLeave' | 'onClick', MouseEventWithDatum>\n\nconst getPositionGenerator = ({\n    layout,\n    reverse,\n    scale,\n    height,\n    markerSize,\n}: Pick<BulletMarkersProps, 'layout' | 'reverse' | 'scale' | 'height' | 'markerSize'>) => {\n    if (layout === 'horizontal') {\n        return (marker: ComputedMarkersDatum) => {\n            const x = scale(marker.value)\n            const y = height / 2\n            const rotation = reverse === true ? 180 : 0\n\n            return { x, y, size: markerSize, rotation }\n        }\n    }\n\n    return (marker: ComputedMarkersDatum) => {\n        const x = height / 2\n        const y = scale(marker.value)\n        const rotation = reverse === true ? 270 : 90\n\n        return { x, y, size: markerSize, rotation }\n    }\n}\n\nexport const BulletMarkers = ({\n    scale,\n    layout,\n    reverse,\n    markers,\n    height,\n    markerSize,\n    component,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n}: BulletMarkersProps & EventHandlers) => {\n    const getPosition = useMemo(\n        () => getPositionGenerator({ layout, reverse, scale, height, markerSize }),\n        [layout, reverse, scale, height, markerSize]\n    )\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const transition = useTransition<MarkerWithPosition, PositionWithColor>(\n        markers.map(marker => ({ ...marker, position: getPosition(marker) })),\n        {\n            key: marker => `${marker.index}`,\n            enter: ({ color, position }: MarkerWithPosition) => ({\n                color,\n                transform: `rotate(${position.rotation}, ${position.x}, ${position.y})`,\n                x: position.x,\n                y1: position.y - position.size / 2,\n                y2: position.y + position.size / 2,\n            }),\n            update: ({ color, position }: MarkerWithPosition) => ({\n                color,\n                transform: `rotate(${position.rotation}, ${position.x}, ${position.y})`,\n                x: position.x,\n                y1: position.y - position.size / 2,\n                y2: position.y + position.size / 2,\n            }),\n            config: springConfig,\n            immediate: !animate,\n        }\n    )\n\n    return (\n        <>\n            {transition((props, { position, ...marker }) =>\n                React.createElement(component, {\n                    key: marker.index,\n                    ...marker,\n                    ...position,\n                    animatedProps: props,\n                    data: marker,\n                    onMouseEnter,\n                    onMouseMove: onMouseEnter,\n                    onMouseLeave,\n                    onClick,\n                })\n            )}\n        </>\n    )\n}\n","import React, { useMemo } from 'react'\nimport { useTransition, animated, to } from 'react-spring'\n// @ts-ignore\nimport { useMotionConfig } from '@nivo/core'\nimport { computeRects } from './compute'\nimport { BulletRectsProps, BulletRectComputedRect, BulletRectAnimatedProps } from './types'\n\nexport const BulletRects = ({\n    animatedProps,\n    data,\n    layout,\n    y,\n    component,\n    reverse,\n    scale,\n    height,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n}: BulletRectsProps) => {\n    const rects = useMemo(\n        () =>\n            computeRects({\n                data,\n                layout,\n                reverse,\n                scale,\n                height,\n            }),\n        [data, layout, reverse, scale, height]\n    )\n\n    const getTransform = (value: number) =>\n        `translate(${layout === 'horizontal' ? 0 : value},${layout === 'horizontal' ? value : 0})`\n\n    const transform = animatedProps ? to(animatedProps.measuresY, getTransform) : getTransform(y)\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const transition = useTransition<BulletRectComputedRect, BulletRectAnimatedProps>(rects, {\n        key: rect => `${rect.data.index}`,\n        enter: rect => ({\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height,\n            color: rect.data.color,\n        }),\n        update: rect => ({\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height,\n            color: rect.data.color,\n        }),\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.g transform={transform}>\n            {transition((props, rect) =>\n                React.createElement(component, {\n                    key: rect.data.index,\n                    index: rect.data.index,\n                    animatedProps: props,\n                    data: rect.data,\n                    x: props.x.get(),\n                    y: props.y.get(),\n                    width: to(props.width, value => Math.max(value, 0)).get(),\n                    height: to(props.height, value => Math.max(value, 0)).get(),\n                    color: props.color.get(),\n                    onMouseEnter,\n                    onMouseMove: onMouseEnter,\n                    onMouseLeave,\n                    onClick,\n                })\n            )}\n        </animated.g>\n    )\n}\n","import React, { useMemo } from 'react'\nimport { useSpring, animated } from 'react-spring'\nimport { Axis } from '@nivo/axes'\n// @ts-ignore\nimport { getColorScale, useMotionConfig, useTheme } from '@nivo/core'\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip'\nimport { stackValues } from './compute'\nimport { BulletMarkers } from './BulletMarkers'\nimport { BulletRects } from './BulletRects'\nimport { BulletItemProps } from './types'\n\nexport const BulletItem = ({\n    id,\n\n    scale,\n    layout,\n    reverse,\n    axisPosition,\n    x,\n    y,\n    width,\n    height,\n\n    title = id,\n    titlePosition,\n    titleAlign,\n    titleOffsetX,\n    titleOffsetY,\n    titleRotation,\n\n    rangeComponent,\n    rangeColors,\n    ranges,\n\n    measureComponent,\n    measureHeight,\n    measureColors,\n    measures,\n\n    markerComponent,\n    markerColors,\n    markerHeight,\n    markers = [],\n\n    onRangeClick,\n    onMeasureClick,\n    onMarkerClick,\n}: BulletItemProps) => {\n    const theme = useTheme()\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const computedRanges = useMemo(() => {\n        const rangeColorScale = getColorScale(rangeColors, scale, true)\n\n        return stackValues(ranges, rangeColorScale)\n    }, [rangeColors, ranges, scale])\n\n    const computedMeasures = useMemo(() => {\n        const measureColorScale = getColorScale(measureColors, scale)\n\n        return stackValues(measures, measureColorScale)\n    }, [measureColors, measures, scale])\n\n    const computedMarkers = useMemo(() => {\n        const markerColorScale = getColorScale(markerColors, scale)\n\n        return markers.map((marker: number, index: number) => ({\n            value: marker,\n            index,\n            color: markerColorScale(\n                markerColorScale.type === 'sequential' ? marker : index\n            ) as string,\n        }))\n    }, [markerColors, markers, scale])\n\n    const rangeNodes = (\n        <BulletRects\n            data={computedRanges}\n            scale={scale}\n            layout={layout}\n            reverse={reverse}\n            x={0}\n            y={0}\n            width={width}\n            height={height}\n            component={rangeComponent}\n            onMouseEnter={(range, event) => {\n                showTooltipFromEvent(\n                    <BasicTooltip\n                        id={\n                            <span>\n                                <strong>{range.v0}</strong> to <strong>{range.v1}</strong>\n                            </span>\n                        }\n                        enableChip={true}\n                        color={range.color}\n                    />,\n                    event\n                )\n            }}\n            onMouseLeave={hideTooltip}\n            onClick={(range, event) => {\n                onRangeClick?.({ id, ...range }, event)\n            }}\n        />\n    )\n\n    const markerNodes = (\n        <BulletMarkers\n            markers={computedMarkers}\n            scale={scale}\n            layout={layout}\n            reverse={reverse}\n            height={height}\n            markerSize={markerHeight}\n            component={markerComponent}\n            onMouseEnter={(marker, event) => {\n                showTooltipFromEvent(\n                    <BasicTooltip\n                        id={<strong>{marker.value}</strong>}\n                        enableChip={true}\n                        color={marker.color}\n                    />,\n                    event\n                )\n            }}\n            onMouseLeave={hideTooltip}\n            onClick={(marker, event) => {\n                onMarkerClick?.({ id, ...marker }, event)\n            }}\n        />\n    )\n\n    const axisX = layout === 'vertical' && axisPosition === 'after' ? height : 0\n    const axisY = layout === 'horizontal' && axisPosition === 'after' ? height : 0\n\n    const axis = (\n        <g transform={`translate(${axisX},${axisY})`}>\n            <Axis\n                // @ts-ignore\n                axis={layout === 'horizontal' ? 'x' : 'y'}\n                length={layout === 'horizontal' ? width : height}\n                scale={scale}\n                ticksPosition={axisPosition}\n            />\n        </g>\n    )\n\n    const titleX =\n        layout === 'horizontal'\n            ? titlePosition === 'before'\n                ? titleOffsetX\n                : width + titleOffsetX\n            : height / 2 + titleOffsetX\n    const titleY =\n        layout === 'horizontal'\n            ? height / 2 + titleOffsetY\n            : titlePosition === 'before'\n            ? titleOffsetY\n            : width + titleOffsetY\n\n    const titleNode = (\n        <g transform={`translate(${titleX},${titleY}) rotate(${titleRotation})`}>\n            {typeof title === 'string' ? (\n                <text\n                    style={{\n                        ...theme?.labels?.text,\n                        dominantBaseline: 'central',\n                        textAnchor: titleAlign,\n                    }}\n                >\n                    {title}\n                </text>\n            ) : (\n                title\n            )}\n        </g>\n    )\n\n    const { animate, config: springConfig } = useMotionConfig()\n    const animatedProps = useSpring({\n        measuresY: (height - measureHeight) / 2,\n        transform: `translate(${x},${y})`,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.g transform={animatedProps.transform}>\n            {rangeNodes}\n            <BulletRects\n                animatedProps={animatedProps}\n                data={computedMeasures}\n                scale={scale}\n                layout={layout}\n                reverse={reverse}\n                x={0}\n                y={0}\n                width={width}\n                height={measureHeight}\n                component={measureComponent}\n                onMouseEnter={(measure, event) => {\n                    showTooltipFromEvent(\n                        <BasicTooltip\n                            id={<strong>{measure.v1}</strong>}\n                            enableChip={true}\n                            color={measure.color}\n                        />,\n                        event\n                    )\n                }}\n                onMouseLeave={hideTooltip}\n                onClick={(measure, event) => {\n                    onMeasureClick?.({ id, ...measure }, event)\n                }}\n            />\n            {axis}\n            {markerNodes}\n            {titleNode}\n        </animated.g>\n    )\n}\n","import { scaleLinear } from 'd3-scale'\nimport { useMemo } from 'react'\nimport { Datum, CommonBulletProps } from './types'\n\nexport const useEnhancedData = (\n    data: Datum[],\n    {\n        layout,\n        reverse,\n        height,\n        width,\n    }: Pick<CommonBulletProps, 'layout' | 'reverse' | 'height' | 'width'>\n) => {\n    return useMemo(\n        () =>\n            data.map(d => {\n                const all = [...d.ranges, ...d.measures, ...(d.markers ?? [])]\n\n                const max = Math.max(...all)\n\n                const min = Math.min(...all, 0)\n\n                const scale = scaleLinear().domain([min, max])\n\n                if (layout === 'horizontal') {\n                    scale.range(reverse === true ? [width, 0] : [0, width])\n                } else {\n                    scale.range(reverse === true ? [0, height] : [height, 0])\n                }\n\n                return {\n                    ...d,\n                    scale,\n                }\n            }),\n        [data, height, layout, reverse, width]\n    )\n}\n","import React from 'react'\n// @ts-ignore\nimport { Container, SvgWrapper, useDimensions } from '@nivo/core'\nimport { defaultProps } from './props'\nimport { BulletSvgProps } from './types'\nimport { BulletItem } from './BulletItem'\nimport { useEnhancedData } from './hooks'\n\nexport const Bullet = (props: BulletSvgProps) => {\n    const {\n        data,\n\n        layout,\n        spacing,\n        measureSize,\n        markerSize,\n        reverse,\n        axisPosition,\n\n        margin: partialMargin,\n        width,\n        height,\n\n        titlePosition,\n        titleAlign,\n        titleOffsetX,\n        titleOffsetY,\n        titleRotation,\n\n        rangeComponent,\n        rangeColors,\n\n        measureComponent,\n        measureColors,\n\n        markerComponent,\n        markerColors,\n\n        theme,\n\n        animate,\n        motionConfig,\n\n        isInteractive,\n        onRangeClick,\n        onMeasureClick,\n        onMarkerClick,\n\n        role,\n    } = { ...defaultProps, ...props }\n\n    const { margin, innerWidth, innerHeight } = useDimensions(width, height, partialMargin)\n\n    const itemHeight =\n        layout === 'horizontal'\n            ? (innerHeight - spacing * (data.length - 1)) / data.length\n            : (innerWidth - spacing * (data.length - 1)) / data.length\n\n    const measureHeight = itemHeight * measureSize\n    const markerHeight = itemHeight * markerSize\n\n    const enhancedData = useEnhancedData(data, {\n        layout,\n        reverse,\n        width: innerWidth,\n        height: innerHeight,\n    })\n\n    return (\n        <Container\n            isInteractive={isInteractive}\n            theme={theme}\n            animate={animate}\n            motionConfig={motionConfig}\n        >\n            <SvgWrapper width={width} height={height} margin={margin} role={role}>\n                {enhancedData.map((d, i) => (\n                    <BulletItem\n                        key={d.id}\n                        {...d}\n                        layout={layout}\n                        reverse={reverse}\n                        x={layout === 'vertical' ? itemHeight * i + spacing * i : 0}\n                        y={layout === 'horizontal' ? itemHeight * i + spacing * i : 0}\n                        width={innerWidth}\n                        height={itemHeight}\n                        titlePosition={titlePosition}\n                        titleAlign={titleAlign}\n                        titleOffsetX={titleOffsetX}\n                        titleOffsetY={titleOffsetY}\n                        titleRotation={titleRotation}\n                        measureHeight={measureHeight}\n                        markerHeight={markerHeight}\n                        rangeComponent={rangeComponent}\n                        rangeColors={rangeColors}\n                        measureComponent={measureComponent}\n                        measureColors={measureColors}\n                        markerComponent={markerComponent}\n                        markerColors={markerColors}\n                        axisPosition={axisPosition}\n                        onRangeClick={onRangeClick}\n                        onMeasureClick={onMeasureClick}\n                        onMarkerClick={onMarkerClick}\n                    />\n                ))}\n            </SvgWrapper>\n        </Container>\n    )\n}\n","import React from 'react'\n// @ts-ignore\nimport { ResponsiveWrapper, Dimensions } from '@nivo/core'\nimport { BulletSvgProps } from './types'\nimport { Bullet } from './Bullet'\n\nexport const ResponsiveBullet = (props: Omit<BulletSvgProps, 'height' | 'width'>) => (\n    <ResponsiveWrapper>\n        {({ width, height }: Dimensions) => <Bullet width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n"],"names":["defineProperty","BulletMarkersItem","animatedProps","color","transform","x","y1","y2","data","onMouseEnter","onMouseMove","onMouseLeave","onClick","event","BulletRectsItem","y","width","height","to","value","Math","max","defaultProps","layout","reverse","spacing","axisPosition","titlePosition","titleAlign","titleRotation","titleOffsetX","titleOffsetY","rangeComponent","rangeColors","measureComponent","measureColors","markers","markerComponent","markerColors","rangeBorderWidth","rangeBorderColor","from","measureSize","measureBorderWidth","measureBorderColor","markerSize","isInteractive","animate","motionDefaultProps","motionConfig","config","margin","defaultMargin","role","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","stackValues","values","colorScale","useAverage","normalized","filter","v","sort","a","b","reduce","acc","v1","index","slice","last","v0","sequentialValue","type","getComputeRect","scale","d","w","h","computeRects","computeRect","map","objectWithoutPropertiesLoose","getPositionGenerator","marker","rotation","size","BulletMarkers","component","getPosition","useMemo","useMotionConfig","springConfig","transition","useTransition","position","key","enter","update","immediate","props","React","createElement","BulletRects","rects","getTransform","measuresY","rect","get","BulletItem","id","title","ranges","measureHeight","measures","markerHeight","onRangeClick","onMeasureClick","onMarkerClick","theme","useTheme","useTooltip","showTooltipFromEvent","hideTooltip","computedRanges","rangeColorScale","getColorScale","computedMeasures","measureColorScale","computedMarkers","markerColorScale","rangeNodes","range","markerNodes","axisX","axisY","axis","titleX","titleY","titleNode","labels","text","dominantBaseline","textAnchor","useSpring","measure","useEnhancedData","all","min","scaleLinear","domain","Bullet","partialMargin","useDimensions","innerWidth","innerHeight","itemHeight","length","enhancedData","i","ResponsiveBullet"],"mappings":"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"}